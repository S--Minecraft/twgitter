package twgitter.slack;

import java.util.List;

import twgitter.get.GetHTTP;
import twgitter.slack.config.Config;

import com.google.gson.Gson;

public class GetUsers {
	public static String getUsers() throws Exception {
		String URI = "https://slack.com/api/users.list?token=" + Config.token;
		List<String> json = GetHTTP.AccessHTTPString(URI);

		String jsonString = json.get(0);

		return jsonString;
	}

	public static List<User> jsonToUser(String json) {
		Gson gson = new Gson();
		UserFirst userFirst = gson.fromJson(json.toString(),UserFirst.class);
		List<User> users = userFirst.getMembers();
		return users;
	}
}
