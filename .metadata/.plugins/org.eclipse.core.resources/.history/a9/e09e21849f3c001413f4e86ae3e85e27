package twgitter.IRC;

import java.io.IOException;

import org.schwering.irc.lib.IRCConnection;

public class TestConnect {
	public static void main(String[] args) throws IOException, InterruptedException
	{
		String name = "S_twgitter";
		String target = "S__twgitter";

		IRCConnection conn = new IRCConnection(
				"irc.friend-chat.jp",
				6660,
				6669,
				null,
				name,
				name,
				name
				);

		conn.addIRCEventListener(new ListenerI());
		conn.setDaemon(true);
		conn.setColors(false);
		conn.setPong(true);
		conn.connect();

		System.out.println();

		for(int i=0;i<3;)
		{
			System.out.println(i);
			Thread.sleep(10000);
			if(conn.isConnected())
			{
				System.out.println("a");
				conn.doJoin(target);
				conn.doPrivmsg(target, "test");
				i=2;
				System.out.println(i);
			}
		}

		System.out.println("[IRC]Finished");
	}
}
