package twgitter.IRC;

import java.io.IOException;

import org.schwering.irc.lib.IRCConnection;
import org.schwering.irc.lib.IRCEventAdapter;
import org.schwering.irc.lib.IRCEventListener;
import org.schwering.irc.lib.IRCModeParser;
import org.schwering.irc.lib.IRCUser;

public class TestConnect {
	public static void main(String[] args) throws IOException
	{
		String name = "S_twgitter";

		IRCConnection conn = new IRCConnection(
				"irc.friend-chat.jp",
				6660,
				6669,
				null,
				name,
				name,
				name
				);

		IListener lis = conn.new IListener();

		conn.addIRCEventListener(lis);
		conn.setDaemon(true);
		conn.setColors(false);
		conn.setPong(true);
		conn.connect();
	}

	public static void print(String text)
	{
		System.out.println("[IRC]" + text);
	}

	public class IListener extends IRCEventAdapter implements IRCEventListener {

		public void onRegistered() {
			print("Connected");
		}

		public void onDisconnected() {
			print("Disconnected");
		}

		public void onError(String msg) {
			print("Error: "+ msg);
		}

		public void onError(int num, String msg) {
			print("Error #"+ num +": "+ msg);
		}

		public void onInvite(String chan, IRCUser u, String nickPass) {
			print(chan +"> "+ u.getNick() +" invites "+ nickPass);
		}

		public void onJoin(String chan, IRCUser u) {
			print(chan +"> "+ u.getNick() +" joins");
		}

		public void onKick(String chan, IRCUser u, String nickPass, String msg) {
			print(chan +"> "+ u.getNick() +" kicks "+ nickPass);
		}

		public void onMode(IRCUser u, String nickPass, String mode) {
			print("Mode: "+ u.getNick() +" sets modes "+ mode +" "+ nickPass);
		}

		public void onMode(IRCUser u, String chan, IRCModeParser mp) {
			print(chan +"> "+ u.getNick() +" sets mode: "+ mp.getLine());
		}

		public void onNick(IRCUser u, String nickNew) {
			print("Nick: "+ u.getNick() +" is now known as "+ nickNew);
		}

		public void onNotice(String target, IRCUser u, String msg) {
			print(target +"> "+ u.getNick() +" (notice): "+ msg);
		}

		public void onPart(String chan, IRCUser u, String msg) {
			print(chan +"> "+ u.getNick() +" parts");
		}

		public void onPrivmsg(String chan, IRCUser u, String msg) {
			print(chan +"> "+ u.getNick() +": "+ msg);
		}

		public void onQuit(IRCUser u, String msg) {
			print("Quit: "+ u.getNick());
		}

		public void onReply(int num, String value, String msg) {
			print("Reply #"+ num +": "+ value +" "+ msg);
		}

		public void onTopic(String chan, IRCUser u, String topic) {
			print(chan +"> "+ u.getNick() +" changes topic into: "+ topic);
		}

	}
}
