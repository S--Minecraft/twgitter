package twgitter.IRC;

import java.io.IOException;

import org.schwering.irc.lib.IRCConnection;

public class TestConnect extends Thread {
	public static IRCConnection co;
	public static String tar;

	public static void main(String[] args) throws InterruptedException, IOException
	{
		String name = "S_twgitter";
		String target = "#S__twgitter";
		tar = target;
		IRCConnection conn = new IRCConnection(
				"irc.friend-chat.jp",
				6660,
				6669,
				null,
				name,
				name,
				name
				);
		//new TestConnect(conn);
		conn.addIRCEventListener(new ListenerI());
		conn.setDaemon(true);
		conn.setColors(false);
		conn.setPong(true);
		conn.connect();
		conn.doJoin(target);
		conn.doPrivmsg(target, "test");


		System.out.println();

		/*
		for(int i=0;i<2;)
		{
			System.out.println(i);
			Thread.sleep(100);
			if(conn.isConnected())
			{
				System.out.println("a");
				conn.doJoin(target);
				conn.doPrivmsg(target, "test");
				i=2;
				System.out.println(i);
			}
		}
		*/

		System.out.println("[IRC]Finished");
	}

	/*
	public TestConnect(IRCConnection conn) throws IOException
	{
		co = conn;
		conn.addIRCEventListener(new ListenerI());
		conn.setDaemon(true);
		conn.setColors(false);
		conn.setPong(true);
		conn.connect();

		start();
	}

	public void run(){
		co.doJoin(tar);
		co.doPrivmsg(tar, "test");
	}
	*/
}
